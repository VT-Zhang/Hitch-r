<style>
.modal{
    width: 50% !important;
    max-height: 100%  !important;
}
</style>

<nav>
   <div id="nav" class="nav-wrapper red lighten-1 hoverable">
     <a href="#" id="logo" class="brand-logo">Hitchr!</a>
     <div class="row">
         <div class="col l2 right">
             <a class='dropdown-button btn blue' href='#' data-activates='dropdown1'>&nbsp;&nbsp;&nbsp;&nbsp;Manage&nbsp;&nbsp;&nbsp;&nbsp;</a>
             <ul id='dropdown1' class='dropdown-content'>
                <li><a href="#!">Manage Trips</a></li>
                <li><a href="#!">Edit Vehicles</a></li>
                <li class="divider"></li>
                <li><a href="#!">Profile</a></li>
              </ul>
         </div>
         <div class="col l2 right">
             <a class="btn waves-effect blue hoverable" href="#create_cars">Add Vehicles&nbsp;&nbsp;&nbsp;</a>
         </div>
         <div class="col l2 right">
             <a class="btn waves-effect blue hoverable" href="#create_trips">&nbsp;&nbsp;&nbsp;&nbsp;Add Trips&nbsp;&nbsp;&nbsp;&nbsp;</a>
         </div>
     </div>
   </div>
 </nav>

<!-- Popup window content for Creating a Trip -->
<div id="create_trips" class="modal">
<div class="modal-content">
   <form action="/trips/create" method="post">
       <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
       <div class="row">
           <p class="center-align">Departure Information</p>
       </div>
       <div class="row">
           <div class="col s2"></div>
           <div class="input-field col s3">
             <input placeholder="Number" name="dStreetNum" type="text" class="validate">
             <label for="dStreetNum">Street Number</label>
           </div>
           <div class="input-field col s3">
             <input placeholder="Street Name" name="dStreet" type="text" class="validate">
             <label for="dStreet">Street Name</label>
           </div>
           <div class="input-field col s3">
               <input placeholder="City" name="dCity" type="text" class="validate">
               <label for="dCity">City</label>
           </div>
       </div>
       <div class="row">
           <div class="col s2"></div>
           <div class="input-field col s3">
                   <select name="dState">
                          <option value="" disabled selected>State</option>
                          <option value="AL">Alabama</option>
                          <option value="AK">Alaska</option>
                          <option value="AZ">Arizona</option>
                          <option value="AR">Arkansas</option>
                          <option value="CA">California</option>
                          <option value="CO">Colorado</option>
                          <option value="CT">Connecticut</option>
                          <option value="DC">District of Columbia</option>
                          <option value="DE">Delaware</option>
                          <option value="FL">Florida</option>
                          <option value="GA">Georgia</option>
                          <option value="HI">Hawaii</option>
                          <option value="ID">Idaho</option>
                          <option value="IL">Illinois</option>
                          <option value="IN">Indianna</option>
                          <option value="IA">Iowa</option>
                          <option value="KS">Kansas</option>
                          <option value="KY">Kentucky</option>
                          <option value="LA">Louisiana</option>
                          <option value="ME">Maine</option>
                          <option value="MD">Maryland</option>
                          <option value="MA">Massachusetts</option>
                          <option value="MI">Michigan</option>
                          <option value="MN">Minnesota</option>
                          <option value="MS">Mississippi</option>
                          <option value="MO">Missouri</option>
                          <option value="MT">Montana</option>
                          <option value="NE">Nebraska</option>
                          <option value="NV">Neveda</option>
                          <option value="NH">New Hampshire</option>
                          <option value="NJ">New Jersey</option>
                          <option value="NM">New Mexico</option>
                          <option value="NY">New York</option>
                          <option value="NC">North Carolina</option>
                          <option value="ND">North Dakota</option>
                          <option value="OH">Ohio</option>
                          <option value="OK">Oklahoma</option>
                          <option value="OR">Oregon</option>
                          <option value="PA">Pennsylvania</option>
                          <option value="RI">Rhode Island</option>
                          <option value="SC">South Carolina</option>
                          <option value="KS">South Dakota</option>
                          <option value="TN">Tennessee</option>
                          <option value="TX">Texas</option>
                          <option value="UT">Utah</option>
                          <option value="VT">Vermont</option>
                          <option value="VA">Virginia</option>
                          <option value="WA">Washington</option>
                          <option value="WV">West Virginia</option>
                          <option value="WI">Wisconsin</option>
                          <option value="WY">Wyoming</option>
                      </select>
                 <label for="dState">State</label>
           </div>
           <div class="input-field col s3 ">
               <input placeholder="Zipcode" name="dZip" type="text" class="validate">
               <label for="dZip">Zip Code</label>
           </div>
           <div class="input-field col s3 ">
               <input placeholder="Leave Date" name="dDate" type="date" class="validate datepicker">
               <label for="dDate">Leave Date</label>
           </div>
       </div>
       <div class="row">
           <p class="center-align">Arrival Information</p>
       </div>
       <div class="row">
           <div class="col s2"></div>
           <div class="input-field col s3">
             <input placeholder="Number" name="aStreetNum" type="text" class="validate">
             <label for="aStreetNum">Street Number</label>
           </div>
           <div class="input-field col s3">
             <input placeholder="Street Name" name="aStreet" type="text" class="validate">
             <label for="aStreet">Street Name</label>
           </div>
           <div class="input-field col s3">
               <input placeholder="City" name="aCity" type="text" class="validate">
               <label for="aCity">City</label>
           </div>
       </div>
       <div class="row">
           <div class="col s2"></div>
           <div class="input-field col s3">
               <select name="aState">
                      <option value="" disabled selected>State</option>
                      <option value="AL">Alabama</option>
                      <option value="AK">Alaska</option>
                      <option value="AZ">Arizona</option>
                      <option value="AR">Arkansas</option>
                      <option value="CA">California</option>
                      <option value="CO">Colorado</option>
                      <option value="CT">Connecticut</option>
                      <option value="DC">District of Columbia</option>
                      <option value="DE">Delaware</option>
                      <option value="FL">Florida</option>
                      <option value="GA">Georgia</option>
                      <option value="HI">Hawaii</option>
                      <option value="ID">Idaho</option>
                      <option value="IL">Illinois</option>
                      <option value="IN">Indianna</option>
                      <option value="IA">Iowa</option>
                      <option value="KS">Kansas</option>
                      <option value="KY">Kentucky</option>
                      <option value="LA">Louisiana</option>
                      <option value="ME">Maine</option>
                      <option value="MD">Maryland</option>
                      <option value="MA">Massachusetts</option>
                      <option value="MI">Michigan</option>
                      <option value="MN">Minnesota</option>
                      <option value="MS">Mississippi</option>
                      <option value="MO">Missouri</option>
                      <option value="MT">Montana</option>
                      <option value="NE">Nebraska</option>
                      <option value="NV">Neveda</option>
                      <option value="NH">New Hampshire</option>
                      <option value="NJ">New Jersey</option>
                      <option value="NM">New Mexico</option>
                      <option value="NY">New York</option>
                      <option value="NC">North Carolina</option>
                      <option value="ND">North Dakota</option>
                      <option value="OH">Ohio</option>
                      <option value="OK">Oklahoma</option>
                      <option value="OR">Oregon</option>
                      <option value="PA">Pennsylvania</option>
                      <option value="RI">Rhode Island</option>
                      <option value="SC">South Carolina</option>
                      <option value="KS">South Dakota</option>
                      <option value="TN">Tennessee</option>
                      <option value="TX">Texas</option>
                      <option value="UT">Utah</option>
                      <option value="VT">Vermont</option>
                      <option value="VA">Virginia</option>
                      <option value="WA">Washington</option>
                      <option value="WV">West Virginia</option>
                      <option value="WI">Wisconsin</option>
                      <option value="WY">Wyoming</option>
                  </select>
             <label for="aState">State</label>
           </div>
           <div class="input-field col s3 ">
               <input placeholder="Zipcode" name="aZip" type="text" class="validate">
               <label for="aZip">Zip Code</label>
           </div>
           <div class="input-field col s3 ">
               <input placeholder="Arrival Date" name="aDate" type="date" class="validate datepicker">
               <label for="aDate">Arrival Date</label>
           </div>
       </div>
       <div class="row">
           <div class="col s2"></div>
           <div class="input-field col s4">
                <input placeholder="$Price" name="price" type="text" class="validate">
                 <label for="price">Price/Seat</label>
           </div>
           <div class="input-field col s4">
                <select name="car_id">
                    <option value="" disabled selected>Select Car</option>
                    <% @cars.each do |car| %>
                    <option value="<%=car.id%>"><%=car.make%> <%=car.model%></option>
                    <% end %>
                </select>
                 <label for="car">Car</label>
           </div>
       </div>
       <div class="row">
           <div class="col s3"></div>
           <div class="col s3">
               <button id="login_button" class="btn waves-effect blue hoverable" type="submit" name="action">Add New Trip</button>
           </div>
           <div class="col s3">
               <a href="" class="modal-action modal-close btn waves-effect blue hoverable">Back</a>
           </div>
       </div>
   </form>
</div>
</div>


<!-- Popup window content for Creating a Car -->
<div id="create_cars" class="modal">
    <div class="modal-content">
        <form action="/cars/create" method="post">
            <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
            <div class="row">
                <h4 class="center-align">Adding A New Vehicle</h4>
            </div>
            <div class="row">
                <div class="col s2"></div>
                <div class="input-field col s4">
                  <input placeholder="Make" name="make" type="text" class="validate">
                  <label for="make">Make</label>
                </div>
                <div class="input-field col s4 ">
                    <input placeholder="Model" name="model" type="text" class="validate">
                    <label for="model">Model</label>
                </div>
            </div>
            <div class="row">
                <div class="col s2"></div>
                <div class="input-field col s4">
                    <input placeholder="Year" name="year" type="text" class="validate">
                    <label for="year">Year</label>
                </div>
                <div class="input-field col s4 ">
                    <input placeholder="Trim" name="trim" type="text" class="validate">
                    <label for="trim">Trim</label>
                </div>
            </div>
            <div class="row">
                <div class="col s2"></div>
                <div class="input-field col s4">
                  <input placeholder="Color" name="color" type="text" class="validate">
                  <label for="color">Color</label>
                </div>
                <div class="input-field col s4 ">
                    <input placeholder="Style" name="style" type="text" class="validate">
                    <label for="style">Style</label>
                </div>
            </div>
            <div class="row">
                <div class="col s2"></div>
                <div class="input-field col s4">
                     <input placeholder="Mileage" name="mileage" type="text" class="validate">
                      <label for="mileage">Mileage</label>
                </div>
                <div class="input-field col s4 ">
                    <input placeholder="Seats" name="seats" type="text" class="validate">
                    <label for="seats">Available Seats</label>
                </div>
            </div>
            <div class="row">
                <div class="col s3"></div>
                <div class="col s3">
                    <button id="login_button" class="btn waves-effect green hoverable" type="submit" name="action">Add Car</button>
                </div>
                <div class="col s3">
                    <a href="" class="modal-action modal-close btn waves-effect green hoverable">Back</a>
                </div>
            </div>
        </form>
    </div>
</div>

<!-- Popup Window to Update User Profile -->
<div id="edit_user" class="modal">
    <div class="modal-content">

    </div>
</div>



<!-- Showing the trips for current_user -->
<div id="maps" class="container align-wrapper">
    <br />
    <br />

    <% if @driveTrips %>
    <% @driveTrips.each do |trip|%>
        <div class="row">
         <table class="striped thin-text">
           <thead>
               <tr>
                 <th></th>
                 <th>Leave From</th>
                 <th>Destination</th>
                 <th>Leave On</th>
                 <th>Planned Arrival</th>
               </tr>
           </thead>
           <tbody>
               <tr>
                 <td></td>
                 <td><%= trip.dStreetNum %> <%= trip.dStreet %>, <%= trip.dCity %>, <%= trip.dState %> <%= trip.dZip %></td>
                 <td><%= trip.aStreetNum %> <%= trip.aStreet %>, <%= trip.aCity %>, <%= trip.aState %> <%= trip.aZip %></td>
                 <td><%= trip.dDate.to_date %></td>
                 <td><%= trip.aDate.to_date %></td>
               </tr>
             <tr>
           </tbody>
           <thead>
               <tr>
                 <th></th>
                 <th>Car</th>
                 <th>$$ Price/Rider</th>
                 <th>Available Seats</th>
                 <th>Action</th>
               </tr>
           </thead>
           <tbody>
               <tr>
                 <td></td>
                 <td><%= trip.car.year %> <%= trip.car.make %> <%= trip.car.model %> (<%= trip.car.color %>)</td>
                 <td>$<%= trip.price %></td>
                 <td><%= trip.car.seats %> of <%= trip.car.seats %> </td>
                 <td><a class="waves-effect green btn hoverable" href="#edit_trips<%=trip.id%>">Edit Trip</a></td>
               </tr>
             <tr>
           </tbody>

         </table>
       </div>
       <div class="center-align">
         <iframe
             width="900"
             height="450"
             frameborder="0" style="border:1"
             src="https://www.google.com/maps/embed/v1/directions?key=AIzaSyCGkc4zfM8yunEOefOTtYk2C8HN9QYuu7w&origin=<%=trip.dStreetNum%>+<%=trip.dStreet%>,<%=trip.dCity%>,<%=trip.dState%>&destination=<%=trip.aStreetNum%>+<%=trip.aStreet%>,<%=trip.aCity%>,<%=trip.aState%>" allowfullscreen>
         </iframe>
       </div>
         <br />
         <br />


         <!-- Popup window content for Editing a Trip -->
         <div id="edit_trips<%=trip.id%>" class="modal">
         <div class="modal-content">
            <form action="/trips/<%=trip.id%>update" method="patch">
                <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
                <input type="hidden" name="_method" value="patch" />
                <div class="row">
                    <p class="center-align">Update Departure Information</p>
                </div>
                <div class="row">
                    <div class="col s2"></div>
                    <div class="input-field col s3">
                      <input value="<%=trip.dStreetNum%>" name="dStreetNum" type="text" class="validate">
                      <label for="dStreetNum">Street Number</label>
                    </div>
                    <div class="input-field col s3">
                      <input value="<%=trip.dStreet%>" name="dStreet" type="text" class="validate">
                      <label for="dStreet">Street Name</label>
                    </div>
                    <div class="input-field col s3">
                        <input value="<%=trip.dCity%>" name="dCity" type="text" class="validate">
                        <label for="dCity">City</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col s2"></div>
                    <div class="input-field col s3">
                            <select name="dState">
                                   <option value="<%=trip.dState%>" selected><%=trip.dState%></option>
                                   <option value="AL">Alabama</option>
                                   <option value="AK">Alaska</option>
                                   <option value="AZ">Arizona</option>
                                   <option value="AR">Arkansas</option>
                                   <option value="CA">California</option>
                                   <option value="CO">Colorado</option>
                                   <option value="CT">Connecticut</option>
                                   <option value="DC">District of Columbia</option>
                                   <option value="DE">Delaware</option>
                                   <option value="FL">Florida</option>
                                   <option value="GA">Georgia</option>
                                   <option value="HI">Hawaii</option>
                                   <option value="ID">Idaho</option>
                                   <option value="IL">Illinois</option>
                                   <option value="IN">Indianna</option>
                                   <option value="IA">Iowa</option>
                                   <option value="KS">Kansas</option>
                                   <option value="KY">Kentucky</option>
                                   <option value="LA">Louisiana</option>
                                   <option value="ME">Maine</option>
                                   <option value="MD">Maryland</option>
                                   <option value="MA">Massachusetts</option>
                                   <option value="MI">Michigan</option>
                                   <option value="MN">Minnesota</option>
                                   <option value="MS">Mississippi</option>
                                   <option value="MO">Missouri</option>
                                   <option value="MT">Montana</option>
                                   <option value="NE">Nebraska</option>
                                   <option value="NV">Neveda</option>
                                   <option value="NH">New Hampshire</option>
                                   <option value="NJ">New Jersey</option>
                                   <option value="NM">New Mexico</option>
                                   <option value="NY">New York</option>
                                   <option value="NC">North Carolina</option>
                                   <option value="ND">North Dakota</option>
                                   <option value="OH">Ohio</option>
                                   <option value="OK">Oklahoma</option>
                                   <option value="OR">Oregon</option>
                                   <option value="PA">Pennsylvania</option>
                                   <option value="RI">Rhode Island</option>
                                   <option value="SC">South Carolina</option>
                                   <option value="KS">South Dakota</option>
                                   <option value="TN">Tennessee</option>
                                   <option value="TX">Texas</option>
                                   <option value="UT">Utah</option>
                                   <option value="VT">Vermont</option>
                                   <option value="VA">Virginia</option>
                                   <option value="WA">Washington</option>
                                   <option value="WV">West Virginia</option>
                                   <option value="WI">Wisconsin</option>
                                   <option value="WY">Wyoming</option>
                               </select>
                          <label for="dState">State</label>
                    </div>
                    <div class="input-field col s3 ">
                        <input value="<%=trip.dZip%>" name="dZip" type="text" class="validate">
                        <label for="dZip">Zip Code</label>
                    </div>
                    <div class="input-field col s3 ">
                        <input value="<%=trip.dDate.to_date%>" name="dDate" type="date" class="validate datepicker">
                        <label for="dDate">Leave Date</label>
                    </div>
                </div>
                <div class="row">
                    <p class="center-align">Update Arrival Information</p>
                </div>
                <div class="row">
                    <div class="col s2"></div>
                    <div class="input-field col s3">
                      <input value="<%=trip.aStreetNum%>" name="aStreetNum" type="text" class="validate">
                      <label for="aStreetNum">Street Number</label>
                    </div>
                    <div class="input-field col s3">
                      <input value="<%=trip.aStreet%>" name="aStreet" type="text" class="validate">
                      <label for="aStreet">Street Name</label>
                    </div>
                    <div class="input-field col s3">
                        <input value="<%=trip.aCity%>" name="aCity" type="text" class="validate">
                        <label for="aCity">City</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col s2"></div>
                    <div class="input-field col s3">
                        <select name="aState">
                               <option value="<%=trip.aState%>" selected><%=trip.aState%></option>
                               <option value="AL">Alabama</option>
                               <option value="AK">Alaska</option>
                               <option value="AZ">Arizona</option>
                               <option value="AR">Arkansas</option>
                               <option value="CA">California</option>
                               <option value="CO">Colorado</option>
                               <option value="CT">Connecticut</option>
                               <option value="DC">District of Columbia</option>
                               <option value="DE">Delaware</option>
                               <option value="FL">Florida</option>
                               <option value="GA">Georgia</option>
                               <option value="HI">Hawaii</option>
                               <option value="ID">Idaho</option>
                               <option value="IL">Illinois</option>
                               <option value="IN">Indianna</option>
                               <option value="IA">Iowa</option>
                               <option value="KS">Kansas</option>
                               <option value="KY">Kentucky</option>
                               <option value="LA">Louisiana</option>
                               <option value="ME">Maine</option>
                               <option value="MD">Maryland</option>
                               <option value="MA">Massachusetts</option>
                               <option value="MI">Michigan</option>
                               <option value="MN">Minnesota</option>
                               <option value="MS">Mississippi</option>
                               <option value="MO">Missouri</option>
                               <option value="MT">Montana</option>
                               <option value="NE">Nebraska</option>
                               <option value="NV">Neveda</option>
                               <option value="NH">New Hampshire</option>
                               <option value="NJ">New Jersey</option>
                               <option value="NM">New Mexico</option>
                               <option value="NY">New York</option>
                               <option value="NC">North Carolina</option>
                               <option value="ND">North Dakota</option>
                               <option value="OH">Ohio</option>
                               <option value="OK">Oklahoma</option>
                               <option value="OR">Oregon</option>
                               <option value="PA">Pennsylvania</option>
                               <option value="RI">Rhode Island</option>
                               <option value="SC">South Carolina</option>
                               <option value="KS">South Dakota</option>
                               <option value="TN">Tennessee</option>
                               <option value="TX">Texas</option>
                               <option value="UT">Utah</option>
                               <option value="VT">Vermont</option>
                               <option value="VA">Virginia</option>
                               <option value="WA">Washington</option>
                               <option value="WV">West Virginia</option>
                               <option value="WI">Wisconsin</option>
                               <option value="WY">Wyoming</option>
                           </select>
                      <label for="aState">State</label>
                    </div>
                    <div class="input-field col s3 ">
                        <input value="<%=trip.aZip%>" name="aZip" type="text" class="validate">
                        <label for="aZip">Zip Code</label>
                    </div>
                    <div class="input-field col s3 ">
                        <input value="<%=trip.aDate.to_date%>" name="aDate" type="date" class="validate datepicker">
                        <label for="aDate">Arrival Date</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col s2"></div>
                    <div class="input-field col s4">
                         <input value="<%=trip.price%>" name="price" type="text" class="validate">
                          <label for="price">Price/Seat</label>
                    </div>
                    <div class="input-field col s4">
                         <select name="car_id">
                             <option value="<%=trip.car.id%>" selected><%=trip.car.make%> <%=trip.car.model%></option>
                             <% @cars.each do |car| %>
                             <% if trip.car.id != car.id%><option value="<%=car.id%>"><%=car.make%> <%=car.model%></option><% end %>
                             <% end %>
                         </select>
                          <label for="car">Car</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col s3"></div>
                    <div class="col s3">
                        <button id="login_button" class="btn waves-effect blue hoverable" type="submit" name="action">Add New Trip</button>
                    </div>
                    <div class="col s3">
                        <a href="" class="modal-action modal-close btn waves-effect blue hoverable">Back</a>
                    </div>
                </div>
            </form>
         </div>
         </div>

         <% end %>
         <% end %>
</div>

<footer class="page-footer red lighten-1 hoverable">
     <div class="footer-copyright">
       <div class="container">
       Â© 2017 Copyright NAJZ Inc.
       <a class="grey-text text-lighten-4 right" href="#!">More Links</a>
       </div>
     </div>
</footer>
